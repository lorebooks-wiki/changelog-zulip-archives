[
    {
        "content": "<p>Is all of The Changelog down? My pod feed isn't playing the ep from today and the website won't load. Not seeing any mentions on bsky or here though...</p>",
        "id": 533890792,
        "sender_full_name": "mray",
        "timestamp": 1754961114
    },
    {
        "content": "<p>Uh oh, what did <span class=\"user-mention\" data-user-id=\"755424\">@Gerhard</span> do?</p>",
        "id": 533892085,
        "sender_full_name": "Nabeel S",
        "timestamp": 1754962342
    },
    {
        "content": "<p><a href=\"https://changelog.com/\">https://changelog.com/</a> works just fine from Sydney-ish Australia</p>",
        "id": 533895154,
        "sender_full_name": "Ron Waldon-Howe",
        "timestamp": 1754965314
    },
    {
        "content": "<p>No issues reported by any of the world-wide synthetic probes, and global traffic levels remain unchanged. FWIW <a href=\"https://status.changelog.com/\">https://status.changelog.com/</a></p>\n<p>Which location are you accessing it from <span class=\"user-mention\" data-user-id=\"917985\">@mray</span> ?</p>",
        "id": 533921201,
        "sender_full_name": "Gerhard",
        "timestamp": 1754983045
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"755424\">@Gerhard</span> I'm in central texas</p>\n<p>I was able to stream the show today but I'm still unable to load up <a href=\"https://changelog.com\">https://changelog.com</a> for some reason. I've done all the usual troubleshooting things like clearing browser cookies/data, and trying with diff devices, etc</p>",
        "id": 533999840,
        "sender_full_name": "mray",
        "timestamp": 1755010727
    },
    {
        "content": "<p>I am seeing some error logs in the pipedream app on Fly, but I'm not sure if those are relevant to this</p>",
        "id": 534003560,
        "sender_full_name": "Jerod Santo",
        "timestamp": 1755011875
    },
    {
        "content": "<p>it's no biggie. sounds like it could just be me...</p>",
        "id": 534006255,
        "sender_full_name": "mray",
        "timestamp": 1755012711
    },
    {
        "content": "<p>My guess is it's the pipely instance nearest you, whereas the rest of them are responding a-ok</p>",
        "id": 534007107,
        "sender_full_name": "Jerod Santo",
        "timestamp": 1755013000
    },
    {
        "content": "<p>I am routing my phone traffic via Dallas (using VPN) and everything works as it should.</p>\n<p>Some errors in the logs are normal, there are all sorts of clients, including continuous probing &amp; vulnerability scanners.</p>\n<p>I am curious <span class=\"user-mention\" data-user-id=\"917985\">@mray</span> does <a href=\"https://pipedream.changelog.com\">https://pipedream.changelog.com</a> load for you? Do you get the same behaviour if you use a different browser?</p>\n<p>Another thing that would be useful to troubleshoot this is a trace / mtr from where you are having issues connecting.</p>\n<p>The last time that I ended up troubleshooting this type of behaviour, the root cause was the ISP that was proxying all traffic. The tell-tale sign was the IP. In the <a href=\"http://changelog.com\">changelog.com</a> case, there are currently two IPs:</p>\n<ul>\n<li>151.101.129.162 for Fastly</li>\n<li>137.66.2.20 for Pipedream / Pipely</li>\n</ul>\n<p>Which IP does <a href=\"http://changelog.com\">changelog.com</a> resolve for you <span class=\"user-mention\" data-user-id=\"917985\">@mray</span> ?</p>",
        "id": 534045376,
        "sender_full_name": "Gerhard",
        "timestamp": 1755028055
    },
    {
        "content": "<p>I didn't see any problems myself yesterday evening when I saw this reported, but I also didn't check to see where I was connecting to at the time yesterday.</p>\n<p>I can check where <code>curl</code> connects to here (which appears to be the Fastly IP Gerhard mentioned):</p>\n<div class=\"codehilite\"><pre><span></span><code>$ curl -s -o /dev/null -v &quot;https://changelog.com/&quot; 2&gt;&amp;1| head -n 8\n* Host changelog.com:443 was resolved.\n* IPv6: (none)\n* IPv4: 151.101.129.162, 137.66.2.20\n*   Trying 151.101.129.162:443...\n</code></pre></div>\n<p>If I use curl and extract a few of the HTTP headers this is what I'm currently seeing:</p>\n<p>When connecting to Pipely</p>\n<div class=\"codehilite\"><pre><span></span><code>$ curl -s -o /dev/null -D - &quot;https://changelog.com/&quot; | grep -i &#39;^http\\|^server\\|^fly\\|^age\\|^x-\\|^via\\|^cache&#39;\nHTTP/2 200\ncache-control: no-store, must-revalidate\nfly-request-id: 01K2FY0C637GMRRYEGWFT9VE14-ord\nserver: Fly/f2e242947 (2025-08-11)\nx-content-type-options: nosniff\nx-download-options: noopen\nx-frame-options: SAMEORIGIN\nx-permitted-cross-domain-policies: none\nx-request-id: GFsdcrVmfA1BcBsA6rQC\nx-varnish: 1182003 3571763\nage: 68\nvia: 2 fly.io, 2 fly.io, 1.1 82d334c7750248 (Varnish/7.7), 2 fly.io\ncache-status: region=ord; origin=app(localhost:5000),changelog-2025-05-05.fly.dev; ttl=-8.176; grace=86400.000; hit; stale; hits=6\n</code></pre></div>\n<p>When connecting to what I'm guessing is Fastly based on the header responses:</p>\n<div class=\"codehilite\"><pre><span></span><code>$ curl -s -o /dev/null -D - &quot;https://changelog.com/&quot; | grep -i &#39;^http\\|^server\\|^fly\\|^age\\|^x-\\|^via\\|^cache&#39;\nHTTP/2 200\ncache-control: no-store, must-revalidate\nserver: Fly/f2e242947 (2025-08-11)\nx-changelog-vanity-redirect: false\nx-content-type-options: nosniff\nx-download-options: noopen\nx-frame-options: SAMEORIGIN\nx-permitted-cross-domain-policies: none\nx-request-id: GFsd06KDBsiKiqUGmOuR\nvia: 1.1 fly.io, 1.1 fly.io, 1.1 varnish\nfly-request-id: 01K2FYAZYJ6FNZ4GCPPHP4QXEE-ord\nage: 0\nx-served-by: cache-chi-klot8100105-CHI\nx-cache: MISS\nx-cache-hits: 0\nx-timer: S1755029275.568744,VS0,VE92\n</code></pre></div>\n<p>...so it looks like my requests are typically getting routed to a Chicago edge node in either case.</p>",
        "id": 534049275,
        "sender_full_name": "Matt Johnson",
        "timestamp": 1755029715
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"755424\">@Gerhard</span> It's resolving to 137.66.2.20, 151.101.129.162. But it's working just fine today. idk I'm just going to chalk it up to PEBKAC and shrug. Thanks everyone for troubleshooting and chiming in</p>",
        "id": 534290429,
        "sender_full_name": "mray",
        "timestamp": 1755112976
    },
    {
        "content": "<p>While listening to the new Interview episode that dropped today I went to visit the website to view the links in the show notes and everything was working fine for me, but after I was done I decided to browse a little (to do a little testing based on some of the above described behavior) and after visiting a few pages I hit one that just wasn't loading after several seconds, so I forced a refresh and then it loaded... browsed a bit more and had the same behavior where it just hung without loading the page, but the loading wheel was just spinning in chrome... then I pulled up the network tab of the developer tools to try and figure out what was exactly was getting stalled.</p>\n<p>I ended up getting it to hang when trying to load the news page, but noticed that it pulled down the document, but was hanging on several static assets. I left the browser and tried running a few curl commands and noticed it would sometimes connect to the Fastly IP, and other times the Pipely IP, but I didn't notice any delays from the shell. Then I noticed the browser window to the side eventually loaded the static assets that were left pending after 8 minutes of waiting.</p>\n<p>After that I browsed around a little more and had it hang trying to load the home page document, then again later trying to load static assets on the home page. I was able to repeatedly catch it hanging requests after just a few minutes of browsing around.<br>\n<a href=\"/user_uploads/66849/po305SMLou0gl30ivYTNWNg0/CleanShot-2025-08-14-at-22.20.442x.png\">CleanShot 2025-08-14 at 22.20.44@2x.png</a><br>\n<a href=\"/user_uploads/66849/ISCFBVPzY6ivJTesS2yXIvht/CleanShot-2025-08-14-at-22.30.372x.png\">CleanShot 2025-08-14 at 22.30.37@2x.png</a><br>\n<a href=\"/user_uploads/66849/AtVKh29ok7qYBfqjcUm6Y5uw/CleanShot-2025-08-14-at-22.37.102x.png\">CleanShot 2025-08-14 at 22.37.10@2x.png</a><br>\n<a href=\"/user_uploads/66849/qHbYhZXkalHU5fYZh6HxiAlA/CleanShot-2025-08-14-at-22.37.422x.png\">CleanShot 2025-08-14 at 22.37.42@2x.png</a><br>\n<a href=\"/user_uploads/66849/uylgdG2ZVB-INLelCwhGnMOT/CleanShot-2025-08-14-at-22.38.432x.png\">CleanShot 2025-08-14 at 22.38.43@2x.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/66849/po305SMLou0gl30ivYTNWNg0/CleanShot-2025-08-14-at-22.20.442x.png\" title=\"CleanShot 2025-08-14 at 22.20.44@2x.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"3172x714\" src=\"/user_uploads/thumbnail/66849/po305SMLou0gl30ivYTNWNg0/CleanShot-2025-08-14-at-22.20.442x.png/840x560.webp\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/66849/ISCFBVPzY6ivJTesS2yXIvht/CleanShot-2025-08-14-at-22.30.372x.png\" title=\"CleanShot 2025-08-14 at 22.30.37@2x.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"3160x1250\" src=\"/user_uploads/thumbnail/66849/ISCFBVPzY6ivJTesS2yXIvht/CleanShot-2025-08-14-at-22.30.372x.png/840x560.webp\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/66849/AtVKh29ok7qYBfqjcUm6Y5uw/CleanShot-2025-08-14-at-22.37.102x.png\" title=\"CleanShot 2025-08-14 at 22.37.10@2x.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"3164x954\" src=\"/user_uploads/thumbnail/66849/AtVKh29ok7qYBfqjcUm6Y5uw/CleanShot-2025-08-14-at-22.37.102x.png/840x560.webp\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/66849/qHbYhZXkalHU5fYZh6HxiAlA/CleanShot-2025-08-14-at-22.37.422x.png\" title=\"CleanShot 2025-08-14 at 22.37.42@2x.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"3154x1178\" src=\"/user_uploads/thumbnail/66849/qHbYhZXkalHU5fYZh6HxiAlA/CleanShot-2025-08-14-at-22.37.422x.png/840x560.webp\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/66849/uylgdG2ZVB-INLelCwhGnMOT/CleanShot-2025-08-14-at-22.38.432x.png\" title=\"CleanShot 2025-08-14 at 22.38.43@2x.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"3162x544\" src=\"/user_uploads/thumbnail/66849/uylgdG2ZVB-INLelCwhGnMOT/CleanShot-2025-08-14-at-22.38.432x.png/840x560.webp\"></a></div>",
        "id": 534593983,
        "sender_full_name": "Matt Johnson",
        "timestamp": 1755230481
    },
    {
        "content": "<p>Thank you for the detailed &amp; thorough analysis <span class=\"user-mention\" data-user-id=\"753112\">@Matt Johnson</span> <span aria-label=\"folded hands\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"folded hands\">:folded_hands:</span></p>\n<p>Digging into the root cause of this misbehaviour is intriguing. I am off for another week, I only have a phone and can help navigate.</p>\n<p>Are you able to reproduce  the same behaviour if you force resolve BOTH <a href=\"http://changelog.com\">changelog.com</a> AND <a href=\"http://cdn.changelog.com\">cdn.changelog.com</a> to either Fastly or Pipely IP? I am wondering if this is linked to DNS random resolution. For this purpose, being able to see the network waterfall view for the requests that take minutes would be helpful. I am trying to understand which portion of the request is slow for you.</p>\n<p>Can you reproduce this in incognito / private browsing window? I am wondering if this is cookie-related (I've noticed \"bypass\").</p>\n<p>That should help narrow down the root cause of this.</p>\n<p>I will try reproducing the same behaviour locally, on the phone.</p>",
        "id": 534606130,
        "sender_full_name": "Gerhard",
        "timestamp": 1755240271
    },
    {
        "content": "<p>it's interesting that it's 2x PNGs with cache-busting QSAs</p>",
        "id": 534609215,
        "sender_full_name": "Ron Waldon-Howe",
        "timestamp": 1755242339
    },
    {
        "content": "<p>I've been browsing <a href=\"http://changelog.com\">changelog.com</a> for 5 minutes straight, no slow-downs of any kind. Connecting via a standard 50Mbps Swisscom WiFi.</p>",
        "id": 534618180,
        "sender_full_name": "Gerhard",
        "timestamp": 1755246882
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"755424\">@Gerhard</span>  I tried this morning to modified my system's hosts file to force DNS to resolve (both domains) to only one IP and I noticed that Chrome did not seem to respect that hosts file modification even after clearing the host resolver cache in Chrome. I don't know if I was doing something wrong or not, but in an attempt to only use the Fastly IP in some initial testing, I did noticed that it seemed to be routinely resolving the domains against the Fastly IP at least what I did manage to check.</p>\n<p>Morning Testing:<br>\nI continued testing with what I observed was typically the Fastly IP:</p>\n<p>I was not able to trigger the event from a separate browser (Firefox) in incognito mode.<br>\nI was also not able to trigger the event from (Chrome) if I logged out.<br>\nUpon logging back in to <a href=\"http://changelog.com\">changelog.com</a> via GitHub I was able to trigger the events again after just a few attempts jumping between the news and home page.</p>\n<p>I tried the whole logging out and logging back in a few times to make sure I was seeing consistent results between the two.</p>\n<p>I tried to take the triggered network requests from Chrome and Copy as cURL (which includes the cookie values I was using in the browser) so that I could reproduce the effect from a shell, but was unable to reproduce the events from a shell (which I thought was odd and unexpected considering how frequently I could trigger it in the browser).</p>\n<p>I was seeing the pending requests in the Chrome browser seem to occur randomly to different requests, sometimes it was the static assets from the cdn and sometimes the document from the root domain.</p>\n<p>In my logged in session in Chrome I tried a few different behaviors to see if I could isolate the behavior further. </p>\n<ul>\n<li>If I was on the home page and repeatedly hit Cmd+Shift+R to force a reload I was unable to trigger the event (even after maybe 20+ attempts). </li>\n<li>As soon as I switched back to quickly clicking the links between the news and home page I was able to trigger the event after maybe 3-6 attempts flipping between the pages.</li>\n<li>If I unchecked \"Disable cache\" in the Network tab of the developer tools I was unable to trigger the event</li>\n<li>As soon as I checked the \"Disable cache\" I was able to trigger it after flipping between news and home 3-6 times.</li>\n</ul>\n<p>At this point I had been under the impression that my hosts file was controlling the IP being used (which it might have to some extent ¯\\_(ツ)_/¯), but when I tried to switch over to the Pipely IP and quickly confirm the same results there, I noticed that changing my hosts file did not seem to have an effect on the behavior of the browser, and I didn't have anymore time to troubleshoot it further until later in the day.</p>\n<p>At the end of my day I picked it back up and was unable to reproduce the behavior or trigger the delayed/pending requests causing the page not to load. I cleared the site data including third party cookies in Chrome, and was still unable to trigger the issue.</p>\n<p>From the testing I did perform in the morning, it seemed like the issue may have been cookie related and is likely not affecting most users, so that's a good thing, but I'm afraid I was not able to isolate how to fully reproduce the issue, and there may be other factors at play that I wasn't able to identify. ...so maybe we will just have to wait and see if the scenario appears again later.</p>",
        "id": 534733429,
        "sender_full_name": "Matt Johnson",
        "timestamp": 1755312932
    },
    {
        "content": "<p>That was super helpful <span class=\"user-mention\" data-user-id=\"753112\">@Matt Johnson</span> as it's hinting at a cookie-related issue, which was one of my suspicions.</p>\n<p>The first and most important cookie-related issue that I'm aware of is that we take cookies into account for the assets backend. We need to ignore cookies in VCL for all requests that hit the assets backend. This will resolve some of the issues that you have observed.</p>\n<p>As for your DNS setup, you can configure static DNS entries in Chrome. That is the easiest way, as your OS will have it's own DNS cache, and your router will have it's own, so you will need to clear each layer to get DNS to work consistently. If you keep DNS in the browser (each browser exposes this via a special url, e.g. chrome://net-internals/#dns) it will keep things simple.</p>",
        "id": 534741950,
        "sender_full_name": "Gerhard",
        "timestamp": 1755324705
    }
]